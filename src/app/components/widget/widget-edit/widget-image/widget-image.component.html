<!--Header-->
<nav class="navbar navbar-default navbar-fixed-top widget-navbar-header">
  <div class="container-fluid">

    <p class="navbar-text pull-left">
      <a (click)="goBack()" class="glyphicon glyphicon-chevron-left"></a>
    </p>

    <a class="navbar-brand" [hidden]="!isNewWidget"><b>Widget New</b></a>
    <a class="navbar-brand" [hidden]="isNewWidget"><b>Widget Edit</b></a>

    <p class="navbar-text pull-right">
      <a (click)="updateWidget()" class="glyphicon glyphicon-ok"></a>
    </p>
  </div>
</nav>
<!--Header end-->
<div class="container-fluid">
  <div *ngIf="errorMsg" class="alert alert-danger" role="alert">{{errorMsg}}</div>

  <form ngNoForm action="{{baseUrl}}/api/upload" method="post" enctype="multipart/form-data">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" ngModel required #imgName="ngModel" name="imgName" id="name" placeholder="Alice" [(ngModel)]="name">
    </div>
    <div *ngIf="(imgName.invalid && (imgName.dirty || imgName.touched))"
         class="alert alert-danger">
      Image Name cannot be empty!
    </div>
    <div class="form-group">
      <label for="text">Text</label>
      <input type="text" class="form-control" name="text" id="text" placeholder="Alice" [(ngModel)]="text">
    </div>
    <div class="form-group">
      <label for="url">URL</label>
      <input type="text" class="form-control" id="url" name="url" placeholder="Alice" [(ngModel)]="url">
    </div>
    <div class="form-group">
      <label for="width">Width(%)</label>
      <input type="text" class="form-control" id="width" name="width" placeholder="0-100%" [(ngModel)]="width">
    </div>
    <div class="form-group">
      <label for="widgetUpload">Upload</label>
      <input name="myFile" type="file" id="widgetUpload">
    </div>
    <div class="form-group">
      <button class="btn btn-block btn-primary" type="submit">Upload Image</button>
      <input  name="widgetId" value="{{widgetId}}"   style="display: none"/>
      <input  name="websiteId" value="{{websiteId}}"   style="display: none"/>
      <input  name="pageId" value="{{pageId}}"   style="display: none"/>
      <input  name="userId" value="{{userId}}"   style="display: none"/>
    </div>

  </form>
  <div class="form-group">
    <button *ngIf="!isNewWidget" routerLink="/user/{{userId}}/website/{{websiteId}}/page/{{pageId}}/widget/2/{{widgetId}}/flickr" class="btn btn-block btn-success">Search Image</button>
    <button *ngIf="isNewWidget" routerLink="/user/{{userId}}/website/{{websiteId}}/page/{{pageId}}/widget/2/new/flickr" class="btn btn-block btn-success">Search Image</button>
  </div>
  <div class="form-group">
    <button (click)="deleteWidget()" class="btn btn-block btn-danger">Delete</button>
  </div>
</div>

<!-- Footer -->
<nav class="navbar navbar-default navbar-fixed-bottom widget-navbar-footer">
  <div class="container-fluid">
    <p class="navbar-text pull-right">
      <a routerLink="/user/{{userId}}">
        <span class="glyphicon glyphicon-user"></span>
      </a>
    </p>
  </div>
</nav>
<!--footer end-->
